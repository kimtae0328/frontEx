<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체</title>
    <script>
        window.onload=function(){
            btn1.addEventListener('click', function(){
                // 객체 : 데이터를 저장하고 관리하기 위한 요소
                // 속석명-속성값 쌍의 집합으로 구성
                
                let product = {
                    pName : '아이폰15'
                    , price : 1000000
                    , brand : '애플'
                    , spec : ['OLED', 'IOS15']
                    , user : {
                                name : '홍길동'
                                , age : 25
                                , birth : '2011-10-10'
                            }
                    , 0 : '배열처럼'
                };

                console.log('test', product);
                box1.innerHTML = '객체 선언 테스트<br>';
                box1.innerHTML += '객체명[속성명]으로 접근하는 방법<br>';
                                    // '   ' + product['pName'] + '</br>'
                box1.innerHTML += `product['pName'] : ${product['pName']}<br>`;
                box1.innerHTML += `product['brand'] : ${product['brand']}<br>`;
                box1.innerHTML += `product['spec'] : ${product['spec']}<br>`;
                box1.innerHTML += `product['spec'][0] : ${product['spec'][0]}<br>`;
                box1.innerHTML += `product['spec'][1] : ${product['spec'][1]}<br>`;
                box1.innerHTML += `product['user'] : ${product['user']}<br>`;
                box1.innerHTML += `product['user']['name'] : ${product['user']['name']}<br>`;
                box1.innerHTML += `product[0] : ${product[0]}<br>`;
                box1.innerHTML += '객체명.속성명 으로 접근하는 방법<br>';
                box1.innerHTML += `product.user : ${product.user} <br>`;
                box1.innerHTML += `product.user.name : ${product.user.name} <br>`;
                box1.innerHTML += `product.pName : ${product.pName} <br>`;
                
                let user = {
                    'user name' : '문인수'
                    , user_age : 20
                    , 'id!!' : 'moon'
                }
                
                box1.innerHTML += '공백이나 특수문자가 속성명에 입력된 경우, 대괄호를 이용<br>';
                box1.innerHTML += `user['user name'] : ${user['user name']} <br>`;
                box1.innerHTML += `user.user_age : ${user.user_age} <br>`;
                box1.innerHTML += `user['id!!'] : ${user['id!!']} <br>`;
            });
            
            btn2.addEventListener('click', function(){
                let dog = {
                    // 속성명 : 속성값
                    name : '백구'
                    , kind : '진돗개'
                    , eat : function(food, amount){
                        console.log('밥을 먹어요');
                        // 객체의 내부 속성에 접근하기 위해서 this를 이용합니다.
                        console.log(`${this['kind']} 종류인 ${this.name}가 밥을 먹어요`);
                        
                        // 매개변수를 활용하여 출력(매개변수에 입력된 값(food, amount)을 출력)
                        return `${this['kind']} 종류인 ${this.name}가 ${food}을 ${amount}개를 먹어요`;
                    }
                }

                // 객체의 함수를 실행시키는 방법
                box2.innerHTML = dog.eat('소세지', 10);
            });

            btn3.addEventListener('click', ()=>{
                let game = {
                    key: 'key',
                    title: '크레이지 아케이드',
                    price: 0,
                    supportOS: ['win7', 'win10'],
                    service: true
                };

                for(let key in game){
                    // game.key : 속성의 이름
                    // game[key] : 변수
                    console.log(`key : ${key}, game.key : ${game[key]}`)
                }
            });

            btn4.addEventListener('click', ()=>{
                // 빈객체를 선언
                let student = {};

                // 객체의 속성 추가
                student.name = '홍길동';
                student.age = 20;
                student['job'] = '도둑';

                // 함수 추가
                student.whoareyou = function(){
                    console.log(this.name);
                    return this.name;
                };
                
                console.log('student', student);
                console.log('job', student.job);
                console.log(student.whoareyou());

                delete(student.job);
                console.log('student-del',student);
                console.log('job', student.job);

                // 5명의 학생을 만들어봅시다
                // 이름, java성적, oracle성적
                // 학생의 목록, 게시글의 목록, 회원 목록
                let student1 = {name: '문인수', java: 100, oracle: 70};
                let student2 = {name: '홍길동', java: 70, oracle: 10};
                let student3 = {name: '백구', java: 100, oracle: 100};
                let student4 = {name: '누렁이', java: 90, oracle: 90};
                let student5 = {name: '이몽룡', java: 20, oracle: 20};
                console.log(student1.name);
                console.log(student2.name);
                console.log(student3);
                console.log(student4);
                console.log(student5);

                // 배열 선언및 초기화
                // 객체를 담고 있는 배열
                let students = [
                    {name: '문인수', java: 100, oracle: 70}
                    , {name: '홍길동', java: 70, oracle: 10}
                    , {name: '백구', java: 100, oracle: 100}
                    , {name: '누렁이', java: 90, oracle: 90}
                    , {name: '이몽룡', java: 20, oracle: 20}
                ];

                students.push({nama:'백구', java:20, oracle:30});
                students.push(student5);
                // 배열에 객체를 담아 놓으면 반복문을 이용해서 손쉽게 출력 할 수 있다
                for(let s of students){
                    console.log('name : ' + s.name);
                }

                // 생성자 함수를 호출하여 새로운 객체를 생성
                let student6 = new Student('홍길순', 100, 80);
                
                student.name='홍홍홍';
                console.log('이름변경', student.name);
                students.push(new Student('홍길순', 100, 80));
                console.log('생성자함수를 통해 배열의 값을 추가', students);
            })


        }

        // 생성자 함수
        function Student(name, java, oracle){
            // 속성을 정의
            this.name = name;
            this.java = java;
            this.oracle = oracle;

            
        }
    </script>
</head>
<body>



    <h1>객체</h1>
    <hr>
    <h2>객체 선언</h2>
    <p>
        중괄호{}를 사용해서 객체를 생성하고 속성에는 모든 자료형이 올 수 있다. <br>
        객체는 속성명을 사용해서 속성을 식별한다. <br>
        속성명에 공백이나 특수문자 등이 포함된 경우 따옴표로 묶어서 표기해야 한다. <br>
        또한 객체에서 접근 시 무조건 대괄호를 사용해야 객체의 속성에 접근이 가능하다.
    </p>
    <button id="btn1">객체생성</button>
    <div id="box1"></div>

    <h2>객체의 함수(메서드)</h2>
    <p>객체의 속성 중 함수 자료형인 속성을 메서들 라고 한다</p>
    <button id="btn2">객체의함수</button>
    <div id="box2"></div>

    <h3>객체와 반복문</h3>
    <p>
        객체가 가지고 있는 모든 속성들에 순차적으로 접근하려면 <br>
        단순 for 문으로는 불가능하다. 따라서 for in 문을 사용해야 한다.
    </p>
    <button id="btn3">객체와 반복문</button>
    <div id="box3"></div>
    
    <h2>객체의 속성 추가및 제거</h2>
    <p>객체를 생성한 이후에 새로운 속성을 추가하거나 제거 할 수 있다</p>
    <button id="btn4">객체 속성추가 및 제거</button>
    <div id="box4"></div>


</body>
</html>